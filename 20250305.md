# Information
- **Time:** 13:30 - 
- **Attendees:** Bob Zhang (Supervisor), Huang Yanzhen, Mai Jiajun
# Discussion Summary

## ✨ What we've done
- We applied per-channel normalization for data samples.
- We added a batch-normalization layer after all the convolution layers (before activation).
- We replaced the original MaxPool3D layer with our custom ResPool layer, which added the batch-normed data back to the original input  (so we named it the Residual Pooling layer). Unlike max-polling in 3D that loses 87.5% of the original information, ResPool only emphasized the local max from the original, boosting the model's learning performance.
- We removed the 4th convolution layer (C=32 -> C=32) and added a fully-connected layer. This prevents over-fitting.

## 👍 What's improved
- Training: 200 epoch - Min validation loss = 19.0367 => 25 epoch - Min validation loss = 11.0318
- Application: No more after-detection bias needed.
### 1. Further step02 increment
After learning the functionality if batch norm layers and maxPool, we added batch norm layer after each convolutional operation as well as replacing the MaxPool3d with ResPool3d, which was customized by ourselves.
- ResPool3d is similar to the MaxPool3d. What makes it different is that ResPool3d only doubles the maximum of the values in one certain pool and remains the size of the pool unchanged.
We applied the method of combining 1 main criterion and 2 associate criterions together as a WeightedLoss we used in classifier training.
- The main criterion is CrossEntropyLoss.
- The other 2 criterion is FocalLoss and L2_regularization.
- The weights of criterions are 0.6, 0.3, and 0.1.
$$\begin{align}
\mathcal{L}_\text{total}=\ &w_1\cdot\mathcal{L}_\text{CrossEntropy }+\\
&w_2\cdot\mathcal{L}_\text{Focal }+\\
&w_3\cdot\mathcal{L}_\text{L2\_regularization}\\
=\ &w_1\cdot (-\ln(p_t))\ +\\
&w_2\cdot \alpha\cdot(1-p_t)^\gamma\cdot(-\ln(p_t))\ +\\
&w_3\cdot\lambda_\text{L2}\times\sum\|\text{param}\|_2\\
\end{align}$$
### 2. 

## 👀 Performance

### Training Performance

<div style="display: flex; flex-wrap: wrap;">
<img src="https://github.com/user-attachments/assets/f69c45eb-c3e6-4676-b6a6-a4a112e220e7" height="250"/>
<img src="https://github.com/user-attachments/assets/998efb21-537b-43f0-b1c1-a7d8880427e7" height="250"/>
<img src="https://github.com/user-attachments/assets/d67606ed-a906-42bf-8fa8-418cd5cf5d1f" height="250"/>
<img src="https://github.com/user-attachments/assets/7bc5be23-a060-49bf-b011-d6e79efaa02d" height="250"/>
</div>

### Application Performance - Average computation time per frame (seconds)

<img src="https://github.com/user-attachments/assets/34e2e8b8-0726-4ebc-8872-d687931f5ba2" height="250"/>


